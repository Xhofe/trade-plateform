<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hh.mapper.MessageMapper">

    <select id="getMessageByUserId" resultType="message">
        select *
        from message
        where (user1_id=${user1Id} and user2_id=${user2Id})
        or (user1_id=${user2Id} and user2_id=${user1Id});
    </select>

    <insert id="addMessage" parameterType="message">
        insert into message (user1_id, user2_id, message, time)
        values (#{user1Id},#{user2Id},#{message},#{time});
    </insert>

</mapper>